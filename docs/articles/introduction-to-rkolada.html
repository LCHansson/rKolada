<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rKolada">
<title>Introduction to rKolada • rKolada</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to rKolada">
<meta property="og:description" content="rKolada">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rKolada</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/a-quickstart-rkolada.html">A quick start guide to rKolada</a>
    <a class="dropdown-item" href="../articles/introduction-to-rkolada.html">Introduction to rKolada</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lchansson/rKolada/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to rKolada</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lchansson/rKolada/blob/HEAD/vignettes/introduction-to-rkolada.Rmd" class="external-link"><code>vignettes/introduction-to-rkolada.Rmd</code></a></small>
      <div class="d-none name"><code>introduction-to-rkolada.Rmd</code></div>
    </div>

    
    
<p><code>rKolada</code> is an R package for <em>downloading</em>,
<em>inspecting</em> and <em>processing</em> data from <a href="https://kolada.se/" class="external-link">Kolada</a>, a Key Performance Indicator
database for Swedish municipalities and regions. This vignette provides
an overview of the methods included in the <code>rKolada</code> package
and the design principles of the package API. To learn more about the
specifics of functions and to see a full list of the functions included,
please see the <a href="https://lchansson.github.io/rKolada/reference/index.html" class="external-link">Reference
section of the package homepage</a> or run <code>??rKolada</code>. For a
quick introduction to the package see the vignette <a href="a-quickstart-rkolada.html">A quick start guide to rKolada</a>.</p>
<p>NOTE: All metadata and data labels in Kolada are written in Swedish
only.</p>
<p>The design of <code>rKolada</code> functions is inspired by, and are
supported by, the design and functionality provided by several packages
in the <code>tidyverse</code> family. It is thus recommended that you
install the <code>tidyverse</code> package before installing
rKolada:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rKolada"</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="kolada-a-key-performance-indicator-database-for-swedish-municipalities-and-regions">Kolada, a Key Performance Indicator database for Swedish
municipalities and regions<a class="anchor" aria-label="anchor" href="#kolada-a-key-performance-indicator-database-for-swedish-municipalities-and-regions"></a>
</h2>
<p>The Swedish Municipalities and Regions Database <a href="https://kolada.se/" class="external-link">Kolada</a> is a openly accessible,
comprehensive database containing over 4,000 Key Performance Indicators
(KPIs) for a vast number of aspects of municipal and regional
organisations, politics and economic life. The <code>rKolada</code> R
package provides an interface to R users to directly download, explore,
and simplify metadata and data from Kolada.</p>
<p>To get started with Kolada you might want to visit its homepage
(Swedish-only) or read through the <a href="https://github.com/Hypergene/kolada" class="external-link">REST API documentation on
Github</a>. However, you can also use the <code>rKolada</code> package
to explore data without prior knowledge of the database.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://lchansson.github.io/rKolada/" class="external-link">"rKolada"</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="the-data-model">The data model<a class="anchor" aria-label="anchor" href="#the-data-model"></a>
</h3>
<p>Data in Kolada are stored along three basic <em>dimensions</em>:</p>
<ul>
<li>A KPI ID</li>
<li>A point in time (year)</li>
<li>A municipality/region/ ID</li>
</ul>
<p>When downloading data, the user needs to specify search parameters
for at least two of these three basic dimensions. (The Kolada API
documentation also specifies a fourth basic dimension: <em>gender</em>.
However, data for all genders is always automatically downloaded when
available.) The parameters can be a single, atomic value or a vector of
values.</p>
<p>Also, the Kolada database proves useful groupings of municipalities
and KPIs that can be used for further exploration, or to create
unweighted averages. Lastly, some KPIs are also available for
<em>Organizational units</em> (OUs) within municipalities, e.g. a
school, an administrative subdivision or an elderly home.</p>
</div>
<div class="section level3">
<h3 id="downloading-data">Downloading data<a class="anchor" aria-label="anchor" href="#downloading-data"></a>
</h3>
<p>If the user already has knowledge of the IDs of the KPIs and/or
municipalities they want to download, this can be done using the
function <code><a href="../reference/get_values.html">get_values()</a></code>. For instance, if you want to
download all values for the KPI <code>N00945</code> (“Tillfälliga
föräldrapenningdagar (VAB) som tas ut av män, andel av antal dagar (%)”)
for Sweden’s three most populous cities; Stockholm (id
<code>"0180"</code>), Gothenburg (Swedish: <em>Göteborg</em>;
<code>"1480"</code>) and Malmö (<code>"1280"</code>):</p>
<pre><code><span><span class="co">#&gt;       kpi municipality_id year count gender status    value municipality</span></span>
<span><span class="co">#&gt; 1  N00945            0180 1996     1      T              NA    Stockholm</span></span>
<span><span class="co">#&gt; 2  N00945            1280 1996     1      T              NA        Malmö</span></span>
<span><span class="co">#&gt; 3  N00945            1480 1996     1      T              NA     Göteborg</span></span>
<span><span class="co">#&gt; 4  N00945            0180 1997     1      T              NA    Stockholm</span></span>
<span><span class="co">#&gt; 5  N00945            1280 1997     1      T              NA        Malmö</span></span>
<span><span class="co">#&gt; 6  N00945            1480 1997     1      T              NA     Göteborg</span></span>
<span><span class="co">#&gt; 7  N00945            0180 1998     1      T        30.41209    Stockholm</span></span>
<span><span class="co">#&gt; 8  N00945            1280 1998     1      T        26.69198        Malmö</span></span>
<span><span class="co">#&gt; 9  N00945            1480 1998     1      T        30.45307     Göteborg</span></span>
<span><span class="co">#&gt; 10 N00945            0180 1999     1      T        30.62354    Stockholm</span></span>
<span><span class="co">#&gt; 11 N00945            1280 1999     1      T        26.84941        Malmö</span></span>
<span><span class="co">#&gt; 12 N00945            1480 1999     1      T        32.00700     Göteborg</span></span>
<span><span class="co">#&gt; 13 N00945            0180 2000     1      T        31.32960    Stockholm</span></span>
<span><span class="co">#&gt; 14 N00945            1280 2000     1      T        28.36723        Malmö</span></span>
<span><span class="co">#&gt; 15 N00945            1480 2000     1      T        33.23952     Göteborg</span></span>
<span><span class="co">#&gt; 16 N00945            0180 2001     1      T        31.90901    Stockholm</span></span>
<span><span class="co">#&gt; 17 N00945            1280 2001     1      T        29.14839        Malmö</span></span>
<span><span class="co">#&gt; 18 N00945            1480 2001     1      T        34.34883     Göteborg</span></span>
<span><span class="co">#&gt; 19 N00945            0180 2002     1      T        33.13784    Stockholm</span></span>
<span><span class="co">#&gt; 20 N00945            1280 2002     1      T        30.18228        Malmö</span></span>
<span><span class="co">#&gt; 21 N00945            1480 2002     1      T        35.15515     Göteborg</span></span>
<span><span class="co">#&gt; 22 N00945            0180 2003     1      T        33.82520    Stockholm</span></span>
<span><span class="co">#&gt; 23 N00945            1280 2003     1      T        29.88630        Malmö</span></span>
<span><span class="co">#&gt; 24 N00945            1480 2003     1      T        35.55795     Göteborg</span></span>
<span><span class="co">#&gt; 25 N00945            0180 2004     1      T        34.21939    Stockholm</span></span>
<span><span class="co">#&gt; 26 N00945            1280 2004     1      T        31.21299        Malmö</span></span>
<span><span class="co">#&gt; 27 N00945            1480 2004     1      T        35.51597     Göteborg</span></span>
<span><span class="co">#&gt; 28 N00945            0180 2005     1      T        35.00610    Stockholm</span></span>
<span><span class="co">#&gt; 29 N00945            1280 2005     1      T        32.26879        Malmö</span></span>
<span><span class="co">#&gt; 30 N00945            1480 2005     1      T        36.71541     Göteborg</span></span>
<span><span class="co">#&gt; 31 N00945            0180 2006     1      T        35.78205    Stockholm</span></span>
<span><span class="co">#&gt; 32 N00945            1280 2006     1      T        33.89914        Malmö</span></span>
<span><span class="co">#&gt; 33 N00945            1480 2006     1      T        37.20446     Göteborg</span></span>
<span><span class="co">#&gt; 34 N00945            0180 2007     1      T        35.61412    Stockholm</span></span>
<span><span class="co">#&gt; 35 N00945            1280 2007     1      T        32.27672        Malmö</span></span>
<span><span class="co">#&gt; 36 N00945            1480 2007     1      T        36.03724     Göteborg</span></span>
<span><span class="co">#&gt; 37 N00945            0180 2008     1      T        36.34371    Stockholm</span></span>
<span><span class="co">#&gt; 38 N00945            1280 2008     1      T        32.99687        Malmö</span></span>
<span><span class="co">#&gt; 39 N00945            1480 2008     1      T        36.04195     Göteborg</span></span>
<span><span class="co">#&gt; 40 N00945            0180 2009     1      T        36.59765    Stockholm</span></span>
<span><span class="co">#&gt; 41 N00945            1280 2009     1      T        33.88994        Malmö</span></span>
<span><span class="co">#&gt; 42 N00945            1480 2009     1      T        35.93543     Göteborg</span></span>
<span><span class="co">#&gt; 43 N00945            0180 2010     1      T        36.92186    Stockholm</span></span>
<span><span class="co">#&gt; 44 N00945            1280 2010     1      T        33.82857        Malmö</span></span>
<span><span class="co">#&gt; 45 N00945            1480 2010     1      T        36.39835     Göteborg</span></span>
<span><span class="co">#&gt; 46 N00945            0180 2011     1      T        37.04921    Stockholm</span></span>
<span><span class="co">#&gt; 47 N00945            1280 2011     1      T        33.20278        Malmö</span></span>
<span><span class="co">#&gt; 48 N00945            1480 2011     1      T        37.00446     Göteborg</span></span>
<span><span class="co">#&gt; 49 N00945            0180 2012     1      T        37.04136    Stockholm</span></span>
<span><span class="co">#&gt; 50 N00945            1280 2012     1      T        34.31265        Malmö</span></span>
<span><span class="co">#&gt; 51 N00945            1480 2012     1      T        36.87452     Göteborg</span></span>
<span><span class="co">#&gt; 52 N00945            0180 2013     1      T        38.35227    Stockholm</span></span>
<span><span class="co">#&gt; 53 N00945            1280 2013     1      T        34.82378        Malmö</span></span>
<span><span class="co">#&gt; 54 N00945            1480 2013     1      T        37.95666     Göteborg</span></span>
<span><span class="co">#&gt; 55 N00945            0180 2014     1      T        38.61051    Stockholm</span></span>
<span><span class="co">#&gt; 56 N00945            1280 2014     1      T        35.30861        Malmö</span></span>
<span><span class="co">#&gt; 57 N00945            1480 2014     1      T        38.12922     Göteborg</span></span>
<span><span class="co">#&gt; 58 N00945            0180 2015     1      T        39.09000    Stockholm</span></span>
<span><span class="co">#&gt; 59 N00945            1280 2015     1      T        35.78000        Malmö</span></span>
<span><span class="co">#&gt; 60 N00945            1480 2015     1      T        38.19000     Göteborg</span></span>
<span><span class="co">#&gt; 61 N00945            0180 2016     1      T        38.79194    Stockholm</span></span>
<span><span class="co">#&gt; 62 N00945            1280 2016     1      T        36.26382        Malmö</span></span>
<span><span class="co">#&gt; 63 N00945            1480 2016     1      T        38.60823     Göteborg</span></span>
<span><span class="co">#&gt; 64 N00945            0180 2017     1      T        38.93364    Stockholm</span></span>
<span><span class="co">#&gt; 65 N00945            1280 2017     1      T        35.68866        Malmö</span></span>
<span><span class="co">#&gt; 66 N00945            1480 2017     1      T        38.86796     Göteborg</span></span>
<span><span class="co">#&gt; 67 N00945            0180 2018     1      T        39.40000    Stockholm</span></span>
<span><span class="co">#&gt; 68 N00945            1280 2018     1      T        36.50000        Malmö</span></span>
<span><span class="co">#&gt; 69 N00945            1480 2018     1      T        39.10000     Göteborg</span></span>
<span><span class="co">#&gt; 70 N00945            0180 2019     1      T        39.30000    Stockholm</span></span>
<span><span class="co">#&gt; 71 N00945            1280 2019     1      T        35.40000        Malmö</span></span>
<span><span class="co">#&gt; 72 N00945            1480 2019     1      T        39.10000     Göteborg</span></span>
<span><span class="co">#&gt; 73 N00945            0180 2020     1      T        40.80000    Stockholm</span></span>
<span><span class="co">#&gt; 74 N00945            1280 2020     1      T        37.00000        Malmö</span></span>
<span><span class="co">#&gt; 75 N00945            1480 2020     1      T        39.50000     Göteborg</span></span>
<span><span class="co">#&gt;    municipality_type</span></span>
<span><span class="co">#&gt; 1                  K</span></span>
<span><span class="co">#&gt; 2                  K</span></span>
<span><span class="co">#&gt; 3                  K</span></span>
<span><span class="co">#&gt; 4                  K</span></span>
<span><span class="co">#&gt; 5                  K</span></span>
<span><span class="co">#&gt; 6                  K</span></span>
<span><span class="co">#&gt; 7                  K</span></span>
<span><span class="co">#&gt; 8                  K</span></span>
<span><span class="co">#&gt; 9                  K</span></span>
<span><span class="co">#&gt; 10                 K</span></span>
<span><span class="co">#&gt; 11                 K</span></span>
<span><span class="co">#&gt; 12                 K</span></span>
<span><span class="co">#&gt; 13                 K</span></span>
<span><span class="co">#&gt; 14                 K</span></span>
<span><span class="co">#&gt; 15                 K</span></span>
<span><span class="co">#&gt; 16                 K</span></span>
<span><span class="co">#&gt; 17                 K</span></span>
<span><span class="co">#&gt; 18                 K</span></span>
<span><span class="co">#&gt; 19                 K</span></span>
<span><span class="co">#&gt; 20                 K</span></span>
<span><span class="co">#&gt; 21                 K</span></span>
<span><span class="co">#&gt; 22                 K</span></span>
<span><span class="co">#&gt; 23                 K</span></span>
<span><span class="co">#&gt; 24                 K</span></span>
<span><span class="co">#&gt; 25                 K</span></span>
<span><span class="co">#&gt; 26                 K</span></span>
<span><span class="co">#&gt; 27                 K</span></span>
<span><span class="co">#&gt; 28                 K</span></span>
<span><span class="co">#&gt; 29                 K</span></span>
<span><span class="co">#&gt; 30                 K</span></span>
<span><span class="co">#&gt; 31                 K</span></span>
<span><span class="co">#&gt; 32                 K</span></span>
<span><span class="co">#&gt; 33                 K</span></span>
<span><span class="co">#&gt; 34                 K</span></span>
<span><span class="co">#&gt; 35                 K</span></span>
<span><span class="co">#&gt; 36                 K</span></span>
<span><span class="co">#&gt; 37                 K</span></span>
<span><span class="co">#&gt; 38                 K</span></span>
<span><span class="co">#&gt; 39                 K</span></span>
<span><span class="co">#&gt; 40                 K</span></span>
<span><span class="co">#&gt; 41                 K</span></span>
<span><span class="co">#&gt; 42                 K</span></span>
<span><span class="co">#&gt; 43                 K</span></span>
<span><span class="co">#&gt; 44                 K</span></span>
<span><span class="co">#&gt; 45                 K</span></span>
<span><span class="co">#&gt; 46                 K</span></span>
<span><span class="co">#&gt; 47                 K</span></span>
<span><span class="co">#&gt; 48                 K</span></span>
<span><span class="co">#&gt; 49                 K</span></span>
<span><span class="co">#&gt; 50                 K</span></span>
<span><span class="co">#&gt; 51                 K</span></span>
<span><span class="co">#&gt; 52                 K</span></span>
<span><span class="co">#&gt; 53                 K</span></span>
<span><span class="co">#&gt; 54                 K</span></span>
<span><span class="co">#&gt; 55                 K</span></span>
<span><span class="co">#&gt; 56                 K</span></span>
<span><span class="co">#&gt; 57                 K</span></span>
<span><span class="co">#&gt; 58                 K</span></span>
<span><span class="co">#&gt; 59                 K</span></span>
<span><span class="co">#&gt; 60                 K</span></span>
<span><span class="co">#&gt; 61                 K</span></span>
<span><span class="co">#&gt; 62                 K</span></span>
<span><span class="co">#&gt; 63                 K</span></span>
<span><span class="co">#&gt; 64                 K</span></span>
<span><span class="co">#&gt; 65                 K</span></span>
<span><span class="co">#&gt; 66                 K</span></span>
<span><span class="co">#&gt; 67                 K</span></span>
<span><span class="co">#&gt; 68                 K</span></span>
<span><span class="co">#&gt; 69                 K</span></span>
<span><span class="co">#&gt; 70                 K</span></span>
<span><span class="co">#&gt; 71                 K</span></span>
<span><span class="co">#&gt; 72                 K</span></span>
<span><span class="co">#&gt; 73                 K</span></span>
<span><span class="co">#&gt; 74                 K</span></span>
<span><span class="co">#&gt; 75                 K</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n00945</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_values.html">get_values</a></span><span class="op">(</span></span>
<span>  kpi <span class="op">=</span> <span class="st">"N00945"</span>,</span>
<span>  municipality <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0180"</span>, <span class="st">"1480"</span>, <span class="st">"1280"</span><span class="op">)</span>,</span>
<span>  period <span class="op">=</span> <span class="fl">1970</span><span class="op">:</span><span class="fl">2020</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">n00945</span></span></code></pre></div>
<p>In many cases, however, you will not know in advance exactly what
KPIs to be looking for, or you might not know the IDs of Sweden’s
municipalities.</p>
</div>
<div class="section level3">
<h3 id="downloading-metadata-get-functions">Downloading metadata: <code>get</code> functions<a class="anchor" aria-label="anchor" href="#downloading-metadata-get-functions"></a>
</h3>
<p>Kolada has five different kinds of metadata entities Each one of
these can be downloaded by using <code>rKolada</code>’s <code>get</code>
functions. Each function returns a <code>tibble</code> with all
available data for the specified metadata entity:</p>
<ul>
<li>KPIs: <code><a href="../reference/get_kpi.html">get_kpi()</a></code>
</li>
<li>KPI groups: <code><a href="../reference/get_kpi.html">get_kpi_groups()</a></code>
</li>
<li>Municipalities: <code><a href="../reference/get_kpi.html">get_municipality()</a></code>
</li>
<li>Municipality groups: <code><a href="../reference/get_kpi.html">get_municipality_groups()</a></code>
</li>
<li>Organizational Unit: : <code><a href="../reference/get_kpi.html">get_ou()</a></code>
</li>
</ul>
<p>Each function returns a <code>tibble</code> with all available data
for the specified metadata entity.</p>
<pre><code><span><span class="co">#&gt;    auspices</span></span>
<span><span class="co">#&gt; 1         E</span></span>
<span><span class="co">#&gt; 2         X</span></span>
<span><span class="co">#&gt; 3      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6         X</span></span>
<span><span class="co">#&gt; 7      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 8         X</span></span>
<span><span class="co">#&gt; 9         X</span></span>
<span><span class="co">#&gt; 10     &lt;NA&gt;</span></span>
<span><span class="co">#&gt;                                                                                                                                                       description</span></span>
<span><span class="co">#&gt; 1                                                      Personalkostnader kommunen totalt, dividerat med antal invånare totalt 31/12. Avser egen regi. Källa: SCB.</span></span>
<span><span class="co">#&gt; 2                                                                     Kommunalekonomisk utjämning kommun, dividerat med antal invånare totalt 31/12 . Källa: SCB.</span></span>
<span><span class="co">#&gt; 3      Externa intäkter exklusive intäkter från försäljning till andra kommuner och regioner för kommunen totalt, dividerat med antal invånare 31/12. Källa: SCB.</span></span>
<span><span class="co">#&gt; 4                                                                              Inkomstutjämning, bidrag/avgift, i kronor per invånare den 1/11 fg år. Källa: SCB.</span></span>
<span><span class="co">#&gt; 5                                                                         Kostnadsutjämning, bidrag/avgift, i kronor per invånare den 1/11 nov fg år. Källa: SCB.</span></span>
<span><span class="co">#&gt; 6                                                                                      Regleringsbidrag/avgift, i kronor per invånare den 1/11 fg år. Källa: SCB.</span></span>
<span><span class="co">#&gt; 7                                                                                                                 Utjämningssystemet enl SCB, kr/inv. Källa: SCB.</span></span>
<span><span class="co">#&gt; 8                                                                                              Införandebidrag, i kronor per invånare den 1/11 fg år. Källa: SCB.</span></span>
<span><span class="co">#&gt; 9                                                                                               Strukturbidrag, i kronor per invånare den 1/11 fg år. Källa: SCB.</span></span>
<span><span class="co">#&gt; 10 Externa intäkter exklusive intäkter från försäljning till andra kommuner och regioner för egentlig verksamhet, dividerat med antal invånare 31/12. Källa: SCB.</span></span>
<span><span class="co">#&gt;    has_ou_data     id is_divided_by_gender municipality_type</span></span>
<span><span class="co">#&gt; 1        FALSE N00003                    0                 K</span></span>
<span><span class="co">#&gt; 2        FALSE N00005                    0                 K</span></span>
<span><span class="co">#&gt; 3        FALSE N00009                    0                 K</span></span>
<span><span class="co">#&gt; 4        FALSE N00011                    0                 K</span></span>
<span><span class="co">#&gt; 5        FALSE N00012                    0                 K</span></span>
<span><span class="co">#&gt; 6        FALSE N00014                    0                 K</span></span>
<span><span class="co">#&gt; 7        FALSE N00016                    0                 K</span></span>
<span><span class="co">#&gt; 8        FALSE N00018                    0                 K</span></span>
<span><span class="co">#&gt; 9        FALSE N00019                    0                 K</span></span>
<span><span class="co">#&gt; 10       FALSE N00021                    0                 K</span></span>
<span><span class="co">#&gt;            operating_area ou_publication_date perspective prel_publication_date</span></span>
<span><span class="co">#&gt; 1  Kommunen, övergripande                &lt;NA&gt;    Resurser            2024-04-04</span></span>
<span><span class="co">#&gt; 2   Skatter och utjämning                &lt;NA&gt;    Resurser            2024-04-04</span></span>
<span><span class="co">#&gt; 3  Kommunen, övergripande                &lt;NA&gt;    Resurser                  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4   Skatter och utjämning                &lt;NA&gt;    Resurser            2023-09-28</span></span>
<span><span class="co">#&gt; 5   Skatter och utjämning                &lt;NA&gt;    Resurser            2023-09-28</span></span>
<span><span class="co">#&gt; 6   Skatter och utjämning                &lt;NA&gt;    Resurser            2023-09-28</span></span>
<span><span class="co">#&gt; 7   Skatter och utjämning                &lt;NA&gt;    Resurser            2023-09-28</span></span>
<span><span class="co">#&gt; 8   Skatter och utjämning                &lt;NA&gt;    Resurser            2023-09-28</span></span>
<span><span class="co">#&gt; 9   Skatter och utjämning                &lt;NA&gt;    Resurser            2023-09-28</span></span>
<span><span class="co">#&gt; 10 Kommunen, övergripande                &lt;NA&gt;    Resurser            2024-04-04</span></span>
<span><span class="co">#&gt;    publ_period publication_date</span></span>
<span><span class="co">#&gt; 1         2024       2025-02-22</span></span>
<span><span class="co">#&gt; 2         2024       2025-02-22</span></span>
<span><span class="co">#&gt; 3         2024       2025-02-22</span></span>
<span><span class="co">#&gt; 4         2024       2024-04-15</span></span>
<span><span class="co">#&gt; 5         2024       2024-04-15</span></span>
<span><span class="co">#&gt; 6         2024       2024-04-15</span></span>
<span><span class="co">#&gt; 7         2024       2024-04-15</span></span>
<span><span class="co">#&gt; 8         2024       2024-04-15</span></span>
<span><span class="co">#&gt; 9         2024       2024-04-15</span></span>
<span><span class="co">#&gt; 10        2024       2025-02-22</span></span>
<span><span class="co">#&gt;                                                  title</span></span>
<span><span class="co">#&gt; 1                            Personalkostnader, kr/inv</span></span>
<span><span class="co">#&gt; 2       Utjämningssystemet enl resultaträkning, kr/inv</span></span>
<span><span class="co">#&gt; 3                     Intäkter kommunen totalt, kr/inv</span></span>
<span><span class="co">#&gt; 4  Inkomstutjämning, bidrag/avgift, kr/inv 1 nov fg år</span></span>
<span><span class="co">#&gt; 5             Kostnadsutjämning, bidrag/avgift, kr/inv</span></span>
<span><span class="co">#&gt; 6              Regleringsbidrag/avgift, kr/inv (2005-)</span></span>
<span><span class="co">#&gt; 7                   Utjämningssystemet enl SCB, kr/inv</span></span>
<span><span class="co">#&gt; 8                      Införandebidrag, kr/inv (2005-)</span></span>
<span><span class="co">#&gt; 9                       Strukturbidrag, kr/inv (2005-)</span></span>
<span><span class="co">#&gt; 10                Intäkter egentlig verksamhet, kr/inv</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download all KPI metadata as a tibble (kpi_df)</span></span>
<span><span class="va">kpi_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_kpi.html">get_kpi</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">kpi_df</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p>All <code>get</code> functions are thin wrappers around the more
general function <code><a href="../reference/get_metadata.html">get_metadata()</a></code>. If you are familiar with
the terminology used in the Kolada API for accessing metadata you might
want to use this function instead.</p>
</div>
<div class="section level3">
<h3 id="exploring-metadata">Exploring metadata<a class="anchor" aria-label="anchor" href="#exploring-metadata"></a>
</h3>
<p>For each metadata type mentioned in the previous sections,
<code>rKolada</code> offers several convenience functions to help
exploring and narrowing down metadata tables. (If you are familiar with
<code>dplyr</code> semantics, most of these functions are basically
wrappers around <code>dplyr</code>/<code>tidyr</code> code.)</p>
<p>Since each <code>get</code> function above returns a table for the
selected entity, a metadata table can be one of five different types.
All metadata convenience functions are prefixed to reflect which kind of
metadata table they operate on: <code>kpi</code>, <code>kpi_grp</code>,
<code>municipality</code>, <code>municipality_grp</code>, and
<code>ou</code>.</p>
<p>All metadata convenience functions have been designed with functional
piping in mind, so their first argument is always a metadata tibble.
Most of them also return a tibble of the same type</p>
<p>The most important family of metadata convenience functions is the
<code>search</code> family. Much like <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code> they
can be used to search for one or several search terms in the entire
table or in a subset of named columns:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search for KPIs with the term "BRP" in their description or title</span></span>
<span><span class="va">kpi_filter</span> <span class="op">&lt;-</span> <span class="va">kpi_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/kpi_search.html">kpi_search</a></span><span class="op">(</span><span class="st">"skola"</span>, column <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"description"</span>, <span class="st">"title"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">kpi_filter</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 901 × 13</span></span></span>
<span><span class="co">#&gt;    auspices description has_ou_data id    is_divided_by_gender municipality_type</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> <span style="color: #BB0000;">NA</span>       <span style="color: #949494;">"</span>Kostnadsu… FALSE       N000…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> <span style="color: #BB0000;">NA</span>       <span style="color: #949494;">"</span>Kostnadsu… FALSE       N000…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> <span style="color: #BB0000;">NA</span>       <span style="color: #949494;">"</span>Kostnadsu… FALSE       N000…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> T        <span style="color: #949494;">"</span>Avvikelse… FALSE       N000…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> T        <span style="color: #949494;">"</span>Strukturk… FALSE       N001…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> E        <span style="color: #949494;">"</span>Antal ans… FALSE       N001…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> E        <span style="color: #949494;">"</span>Antal års… FALSE       N001…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> T        <span style="color: #949494;">"</span>Kommunind… FALSE       N003…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> T        <span style="color: #949494;">"</span>Kommunind… FALSE       N003…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> T        <span style="color: #949494;">"</span>Kommunind… FALSE       N003…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 891 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: operating_area &lt;chr&gt;, ou_publication_date &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   perspective &lt;chr&gt;, prel_publication_date &lt;chr&gt;, publ_period &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   publication_date &lt;chr&gt;, title &lt;chr&gt;</span></span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3,312 × 3</span></span></span>
<span><span class="co">#&gt;    id      members       title                                                </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> G114418 <span style="color: #949494;">&lt;df [4 × 2]&gt;</span>  Fyrkommunsnätverket (ovägt medel)                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> G114419 <span style="color: #949494;">&lt;df [4 × 2]&gt;</span>  SMS - Samhällsskydd mellersta Skaraborg (ovägt medel)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> G114798 <span style="color: #949494;">&lt;df [4 × 2]&gt;</span>  4M -  Fyra Mälarstäder (ovägt medel)                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> G114915 <span style="color: #949494;">&lt;df [68 × 2]&gt;</span> SmåKom (ovägt medel)                                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> G116237 <span style="color: #949494;">&lt;df [9 × 2]&gt;</span>  Sjuhärad kommunalförbund (ovägt medel)               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> G116238 <span style="color: #949494;">&lt;df [15 × 2]&gt;</span> Skaraborgs kommunalförbund (ovägt medel)             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> G122469 <span style="color: #949494;">&lt;df [10 × 2]&gt;</span> Region 10 (ovägt medel)                              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> G122931 <span style="color: #949494;">&lt;df [5 × 2]&gt;</span>  3KVH (ovägt medel)                                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> G128518 <span style="color: #949494;">&lt;df [11 × 2]&gt;</span> Familjen Helsingborg (ovägt medel)                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> G128681 <span style="color: #949494;">&lt;df [12 × 2]&gt;</span> Stor-Malmö (ovägt medel)                             </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 3,302 more rows</span></span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search for municipality groups containing the name "Arboga"</span></span>
<span><span class="va">munic_g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_kpi.html">get_municipality_groups</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">arboga_groups</span> <span class="op">&lt;-</span> <span class="va">munic_g</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/municipality_grp_search.html">municipality_grp_search</a></span><span class="op">(</span><span class="st">"Arboga"</span><span class="op">)</span></span>
<span><span class="va">arboga_groups</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 11 × 3</span></span></span>
<span><span class="co">#&gt;    id      members      title                                             </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> G175909 <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner ekonomiskt bistånd, Arboga, 2022</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> G176199 <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner socioekonomi, Arboga, 2022      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> G176489 <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner äldreomsorg, Arboga, 2022       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> G35869  <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner grundskola, Arboga, 2022        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> G36161  <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner gymnasieskola, Arboga, 2022     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> G36453  <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner IFO, Arboga, 2022               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> G37329  <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner, övergripande, Arboga, 2022     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> G39502  <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner LSS, Arboga, 2022               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> G85463  <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner fritidshem, Arboga, 2022        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> G85755  <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner förskola, Arboga, 2022          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> G87629  <span style="color: #949494;">&lt;df [7 × 2]&gt;</span> Liknande kommuner integration, Arboga, 2022</span></span></code></pre></div>
<p>Another important family of exploration functions is the
<code>describe</code> family of functions. These functions take a
metadata table and print a human-readable summary of the most important
facts about each row in the table (up to a limit, specified by
<code>max_n</code>). By default, output is printed directly to the R
console. But by specifying <code>format = "md"</code> you can make the
<code>describe</code> functions create markdown-ready output which can
be added directly to a R markdown file by setting the chunk option
<code>results='asis'</code>. The output then looks as follows:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kpi_filter</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/kpi_describe.html">kpi_describe</a></span><span class="op">(</span>max_n <span class="op">=</span> <span class="fl">2</span>, format <span class="op">=</span> <span class="st">"md"</span>, heading_level <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="n00022-kostnadsutjämningsnetto-förskola-och-skolbarnsomsorg-krinv-1-nov-fg-år">N00022: Kostnadsutjämningsnetto förskola och skolbarnsomsorg, kr/inv
1 nov fg år<a class="anchor" aria-label="anchor" href="#n00022-kostnadsutj%C3%A4mningsnetto-f%C3%B6rskola-och-skolbarnsomsorg-krinv-1-nov-fg-%C3%A5r"></a>
</h4>
<div class="section level5">
<h5 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h5>
<p>Kostnadsutjämningsnetto förskola och skolbarnomsorg beräknas som
kommunens standardkostnad minus standardkostnaden för riket i tkr
dividerat med antal invånare totalt 1/11 nov fg år. Källa: SCB.</p>
</div>
<div class="section level5">
<h5 id="metadata">Metadata<a class="anchor" aria-label="anchor" href="#metadata"></a>
</h5>
<ul>
<li><p>Has OU data: FALSE</p></li>
<li><p>Divided by gender: FALSE</p></li>
<li><p>Municipality type: K</p></li>
<li><p>Operating area: Skatter och utjämning</p></li>
<li><p>Publication date: 2024-04-15</p></li>
<li><p>Publication period: 2024</p></li>
<li><p>OU publication date: NA</p></li>
</ul>
</div>
<div class="section level5">
<h5 id="keywords">Keywords<a class="anchor" aria-label="anchor" href="#keywords"></a>
</h5>
<p>Unknown</p>
</div>
</div>
<div class="section level4">
<h4 id="n00023-kostnadsutjämningsnetto-grundskola-krinv-1-nov-fg-år">N00023: Kostnadsutjämningsnetto grundskola, kr/inv 1 nov fg år<a class="anchor" aria-label="anchor" href="#n00023-kostnadsutj%C3%A4mningsnetto-grundskola-krinv-1-nov-fg-%C3%A5r"></a>
</h4>
<div class="section level5">
<h5 id="description-1">Description<a class="anchor" aria-label="anchor" href="#description-1"></a>
</h5>
<p>Kostnadsutjämningsnetto grundskola beräknas som kommunens
standardkostnad minus standardkostnad för riket i tkr dividerat med
antal invånare totalt 1/11 fg år. Källa: SCB.</p>
</div>
<div class="section level5">
<h5 id="metadata-1">Metadata<a class="anchor" aria-label="anchor" href="#metadata-1"></a>
</h5>
<ul>
<li><p>Has OU data: FALSE</p></li>
<li><p>Divided by gender: FALSE</p></li>
<li><p>Municipality type: K</p></li>
<li><p>Operating area: Skatter och utjämning</p></li>
<li><p>Publication date: 2024-04-15</p></li>
<li><p>Publication period: 2024</p></li>
<li><p>OU publication date: NA</p></li>
</ul>
</div>
<div class="section level5">
<h5 id="keywords-1">Keywords<a class="anchor" aria-label="anchor" href="#keywords-1"></a>
</h5>
<p>Unknown</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="extra-functions-for-exploring-kpi-metadata">Extra functions for exploring KPI metadata<a class="anchor" aria-label="anchor" href="#extra-functions-for-exploring-kpi-metadata"></a>
</h3>
<p>KPI metadata is considerably more complex than other types of
metadata. To further assist in exploring KPI metadata the function
<code><a href="../reference/kpi_bind_keywords.html">kpi_bind_keywords()</a></code> can be used to tag data with keywords
(these are inferred from the KPI title) to classify KPIs and make them
more searchable.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add keywords to a KPI table</span></span>
<span><span class="va">kpis_with_keywords</span> <span class="op">&lt;-</span> <span class="va">kpi_filter</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/kpi_bind_keywords.html">kpi_bind_keywords</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># count keywords</span></span>
<span><span class="va">kpis_with_keywords</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"keyword"</span><span class="op">)</span>, values_to <span class="op">=</span> <span class="st">"keyword"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">keyword</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 417 × 2</span></span></span>
<span><span class="co">#&gt;    keyword            n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> elever           176</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> grundskola       146</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> gymnasieelever   112</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> pedagogisk       112</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> åk               112</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> gymnasieskola    100</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> förskola          91</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> personal          87</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> år                73</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> kommunal          67</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 407 more rows</span></span></span></code></pre></div>
<p>Some KPIs can be very similar-looking and it can sometimes be hard to
discern which of the KPIs to use. To make sifting through data easier,
<code><a href="../reference/kpi_minimize.html">kpi_minimize()</a></code> can be used to remove all redundant columns
from a KPI table. (In this case, “redundant” means “containing no
information that helps in differentiating KPIs from one another”,
i.e. columns containing only one single value for all observations in
the table):</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Top 10 rows of the table</span></span>
<span><span class="va">kpi_filter</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 13</span></span></span>
<span><span class="co">#&gt;    auspices description has_ou_data id    is_divided_by_gender municipality_type</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> <span style="color: #BB0000;">NA</span>       <span style="color: #949494;">"</span>Kostnadsu… FALSE       N000…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> <span style="color: #BB0000;">NA</span>       <span style="color: #949494;">"</span>Kostnadsu… FALSE       N000…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> <span style="color: #BB0000;">NA</span>       <span style="color: #949494;">"</span>Kostnadsu… FALSE       N000…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> T        <span style="color: #949494;">"</span>Avvikelse… FALSE       N000…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> T        <span style="color: #949494;">"</span>Strukturk… FALSE       N001…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> E        <span style="color: #949494;">"</span>Antal ans… FALSE       N001…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> E        <span style="color: #949494;">"</span>Antal års… FALSE       N001…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> T        <span style="color: #949494;">"</span>Kommunind… FALSE       N003…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> T        <span style="color: #949494;">"</span>Kommunind… FALSE       N003…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> T        <span style="color: #949494;">"</span>Kommunind… FALSE       N003…                    0 K                </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: operating_area &lt;chr&gt;, ou_publication_date &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   perspective &lt;chr&gt;, prel_publication_date &lt;chr&gt;, publ_period &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   publication_date &lt;chr&gt;, title &lt;chr&gt;</span></span></span>
<span></span>
<span><span class="co"># Top 10 rows of the table, with non-distinct data removed</span></span>
<span><span class="va">kpi_filter</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/kpi_minimize.html">kpi_minimize</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 8</span></span></span>
<span><span class="co">#&gt;    id     title     description operating_area perspective prel_publication_date</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> N00022 Kostnads… <span style="color: #949494;">"</span>Kostnadsu… Skatter och u… Resurser    2023-09-28           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> N00023 Kostnads… <span style="color: #949494;">"</span>Kostnadsu… Skatter och u… Resurser    2023-09-28           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> N00026 Kostnads… <span style="color: #949494;">"</span>Kostnadsu… Skatter och u… Resurser    2023-09-28           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> N00097 Nettokos… <span style="color: #949494;">"</span>Avvikelse… Kommunen, öve… Resurser    2024-05-11           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> N00100 Struktur… <span style="color: #949494;">"</span>Strukturk… Kommunen, öve… Resurser    2023-09-28           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> N00108 Månadsav… <span style="color: #949494;">"</span>Antal ans… Barn och utbi… Resurser    <span style="color: #BB0000;">NA</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> N00114 Årsarbet… <span style="color: #949494;">"</span>Antal års… Barn och utbi… Resurser    <span style="color: #BB0000;">NA</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> N00300 Medborga… <span style="color: #949494;">"</span>Kommunind… Kommunen, öve… Kvalitet o… <span style="color: #BB0000;">NA</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> N00301 Trygghet… <span style="color: #949494;">"</span>Kommunind… Kommunen, öve… Kvalitet o… <span style="color: #BB0000;">NA</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> N00303 Tillgäng… <span style="color: #949494;">"</span>Kommunind… Kommunen, öve… Kvalitet o… <span style="color: #BB0000;">NA</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: publ_period &lt;chr&gt;, publication_date &lt;chr&gt;</span></span></span></code></pre></div>
<p>Note that <code><a href="../reference/kpi_minimize.html">kpi_minimize()</a></code> operates on the <em>current
table</em>. This means that results may vary depending on the data
you’re operating on.</p>
</div>
<div class="section level3">
<h3 id="metadata-groups">Metadata groups<a class="anchor" aria-label="anchor" href="#metadata-groups"></a>
</h3>
<p>Kolada provides pre-defined <em>groups</em> of KPIs and
municipalities/regions. Exploring an using thse groups can facilitate
meaningful comparisons between different entities or help paint a
broader picture of developments in a certain field or area.</p>
<p>To <code>get</code>, <code>search</code> or <code>describe</code>
group metadata, use the same techniques as described above for regular
metadata (relevant prefixes are <code>kpi_grp_</code> and
<code>municipality_grp_</code>).</p>
<p>A crucial difference between group metadata and other metadata
tables, however, is that group metadata comes in the form of a <a href="https://tidyr.tidyverse.org/articles/nest.html" class="external-link">nested</a> table.
Typically you might want to <em>unnest</em> the groups in a group
metadata table once yo hae found the relevant group(s) for your query.
To do this, use the <code>unnest</code> functions to create a table
containing unnested entities, e.g. running
<code>kpi_grp_unnest(kpi_grp_df)</code> using a KPI group metadata table
as argument creates a <code>kpi_df</code> that can be further processed
using the <code>kpi_</code> functios described in previous sections of
this vignette.</p>
</div>
</div>
<div class="section level2">
<h2 id="downloading-data-using-metadata">Downloading data using metadata<a class="anchor" aria-label="anchor" href="#downloading-data-using-metadata"></a>
</h2>
<p>An alternative approach to downloading data using known IDs is to use
metadata tables to construct arguments to <code><a href="../reference/get_values.html">get_values()</a></code>.
<code>rKolada</code> provides a <code>extract_ids</code> family of
functions for passing a metadata table as an argument to
<code>get_values</code>. A typical workflow would be to download
metadata for (groups of) KPIs and/or municipalities, use functions like
<code><a href="../reference/kpi_search.html">kpi_search()</a></code> to filter down the tables to a few rows, and
then call <code><a href="../reference/get_values.html">get_values()</a></code> to fetch data.</p>
<p>As an example, let’s say we want to download all KPIs describing
Gross Regional Product for all municipalities that are socioeconomically
similar to Arboga, a small municipality in central Sweden:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get KPIs describing Gross Regional Product of municipalities</span></span>
<span><span class="va">kpi_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_kpi.html">get_kpi</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/kpi_search.html">kpi_search</a></span><span class="op">(</span><span class="st">"BRP"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/kpi_search.html">kpi_search</a></span><span class="op">(</span><span class="st">"K"</span>, column <span class="op">=</span> <span class="st">"municipality_type"</span><span class="op">)</span></span>
<span><span class="co"># Creates a table with two rows</span></span>
<span></span>
<span><span class="co"># Get a suitable group of municipalities</span></span>
<span><span class="va">munic_grp_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_kpi.html">get_municipality_groups</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/municipality_grp_search.html">municipality_grp_search</a></span><span class="op">(</span><span class="st">"Liknande kommuner socioekonomi, Arboga"</span><span class="op">)</span></span>
<span><span class="co"># Creates a table with one group of 7 municipalities</span></span>
<span></span>
<span><span class="co"># Also include Arboga itself</span></span>
<span><span class="va">arboga</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_kpi.html">get_municipality</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/municipality_search.html">municipality_search</a></span><span class="op">(</span><span class="st">"Arboga"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get data</span></span>
<span><span class="va">grp_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_values.html">get_values</a></span><span class="op">(</span></span>
<span>  kpi <span class="op">=</span> <span class="fu"><a href="../reference/kpi_extract_ids.html">kpi_extract_ids</a></span><span class="op">(</span><span class="va">kpi_filter</span><span class="op">)</span>,</span>
<span>  municipality <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/municipality_grp_extract_ids.html">municipality_grp_extract_ids</a></span><span class="op">(</span><span class="va">munic_grp_filter</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/municipality_extract_ids.html">municipality_extract_ids</a></span><span class="op">(</span><span class="va">arboga</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Visualize results</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">grp_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">value</span>, color <span class="op">=</span> <span class="va">municipality</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="va">municipality</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="va">kpi</span> <span class="op">~</span> <span class="va">.</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Gross Regional Product per capita 2012-2018"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Swedish municipalities similar to Arboga"</span>,</span>
<span>    caption <span class="op">=</span> <span class="fu"><a href="../reference/values_legend.html">values_legend</a></span><span class="op">(</span><span class="va">grp_data</span>, <span class="va">kpi_filter</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_d</a></span><span class="op">(</span>option <span class="op">=</span> <span class="st">"B"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/comma.html" class="external-link">comma</a></span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction-to-rkolada_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Love Hansson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
